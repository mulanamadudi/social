generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Shop {
  id              String            @id @default(cuid())
  shopDomain      String            @unique
  scope           String?
  installedAt     DateTime          @default(now())
  billingPlan     BillingPlan       @default(None)
  pendingPlan     BillingPlan?
  lastTotalMetric Float             @default(0)
  socialLinks     SocialAccount[]
}

enum BillingPlan {
  None
  basic
  pro
  growth
}

model Platform {
  id        String           @id // z. B. "instagram", "youtube"
  name      String           // Anzeigename
  baseUrl   String           // z. B. "https://instagram.com/"
  iconUrl   String           // z. B. "/icons/instagram.svg"
  accounts  SocialAccount[]
}

model SocialAccount {
  id          String   @id @default(cuid())
  shop        Shop     @relation(fields: [shopId], references: [id])
  shopId      String
  platform    Platform @relation(fields: [platformId], references: [id])
  platformId  String

  isActive    Boolean  @default(true)

  profileName String   // nur z. B. "yourbrand", kein Link!
  followers   Float    @default(0)
  likes       Float    @default(0)
  views       Float    @default(0)
  posts       Float    @default(0)

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

